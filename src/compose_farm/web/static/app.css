/* Editors (Monaco) - wrapper makes it resizable */
.editor-wrapper {
    resize: vertical;
    overflow: hidden;
    min-height: 150px;
}

.editor-wrapper .yaml-editor,
.editor-wrapper .env-editor,
.editor-wrapper .yaml-viewer {
    height: 100%;
    border: 1px solid oklch(var(--bc) / 0.2);
    border-radius: 0.5rem;
}

.editor-wrapper.yaml-wrapper { height: 400px; }
.editor-wrapper.env-wrapper { height: 250px; }
.editor-wrapper.viewer-wrapper { height: 300px; }

/* Terminal - no custom CSS needed, using h-full class in HTML */

/* Prevent save button resize when text changes */
#save-btn, #save-config-btn {
    min-width: 5rem;
}

/* Rainbow hover effect for headers */
.rainbow-hover {
    transition: color 0.3s;
}

.rainbow-hover:hover {
    background: linear-gradient(
        90deg,
        #e07070,
        #e0a070,
        #d0d070,
        #70c080,
        #7090d0,
        #9080b0,
        #b080a0,
        #e07070
    );
    background-size: 16em 100%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    animation: rainbow 4s linear infinite;
}

@keyframes rainbow {
    to {
        background-position: 16em center;
    }
}

/* Command palette FAB - rainbow glow effect (based on CodePen by @LukyVj) */
@property --cmd-bg-position {
    syntax: "<number>";
    inherits: true;
    initial-value: 100;
}

@property --cmd-after-blur {
    syntax: "<number>";
    inherits: true;
    initial-value: 10;
}

@property --cmd-scale {
    syntax: "<number>";
    inherits: true;
    initial-value: 1;
}

@property --cmd-before-opacity {
    syntax: "<number>";
    inherits: true;
    initial-value: 0.3;
}

:root {
    --cmd-color-white: hsl(0, 0%, 100%);
    --cmd-color-cyan: hsl(180, 100%, 50%);
    --cmd-color-blue: hsl(240, 100%, 50%);
    --cmd-color-purple: hsl(270, 100%, 50%);
    --cmd-color-pink: hsl(330, 40%, 70%);
    --cmd-color-red: hsl(0, 100%, 50%);
    --cmd-color-yellow: hsl(60, 100%, 50%);
    --cmd-color-lime: hsl(90, 100%, 75%);
}

@supports (color: color(display-p3 0 0 0)) {
    :root {
        --cmd-color-white: color(display-p3 1 1 1);
        --cmd-color-cyan: color(display-p3 0 1 1);
        --cmd-color-blue: color(display-p3 0 0 1);
        --cmd-color-purple: color(display-p3 0.5 0 1);
        --cmd-color-pink: color(display-p3 1 0.4 0.7);
        --cmd-color-red: color(display-p3 1 0 0);
        --cmd-color-yellow: color(display-p3 1 1 0);
        --cmd-color-lime: color(display-p3 0.75 1 0);
    }
}

#cmd-fab {
    all: unset;
    position: fixed;
    bottom: 1.5rem;
    right: 1.5rem;
    z-index: 50;
    cursor: pointer;
    transform: scale(var(--cmd-scale));
    transition:
        --cmd-bg-position 3s ease,
        --cmd-after-blur 0.3s ease,
        --cmd-before-opacity 0.3s ease,
        --cmd-scale 0.2s cubic-bezier(.76, -0.25, .51, 1.13);
}

.cmd-fab-inner {
    --cmd-border-width: 1.5;
    --cmd-gradient: linear-gradient(
        to right,
        var(--cmd-color-white),
        var(--cmd-color-white),
        var(--cmd-color-cyan),
        var(--cmd-color-blue),
        var(--cmd-color-purple),
        var(--cmd-color-pink),
        var(--cmd-color-red),
        var(--cmd-color-yellow),
        var(--cmd-color-lime),
        var(--cmd-color-white),
        var(--cmd-color-white)
    );
    display: block;
    padding: 0.6em 1em;
    background: hsl(0, 0%, 0%);
    border-radius: 8px;
    font-size: 14px;
    position: relative;
}

.cmd-fab-inner > span {
    background: var(--cmd-gradient) no-repeat calc(var(--cmd-bg-position) * 1%) 0% / 900%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 0.15ch;
    font-weight: 600;
}

/* Gradient border */
.cmd-fab-inner::before {
    content: "";
    display: block;
    position: absolute;
    width: calc(100% + calc(var(--cmd-border-width) * 2px));
    height: calc(100% + calc(var(--cmd-border-width) * 2px));
    background: var(--cmd-gradient) no-repeat calc(var(--cmd-bg-position) * 1%) 0% / 900%;
    border-radius: 9px;
    z-index: -1;
    top: calc(var(--cmd-border-width) * -1px);
    left: calc(var(--cmd-border-width) * -1px);
    opacity: var(--cmd-before-opacity);
}

/* Blurred glow */
.cmd-fab-inner::after {
    display: block;
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, rgb(0 0 0), rgb(0 0 0)) no-repeat calc(var(--cmd-bg-position) * 1%) 0% / 900%;
    transform: translateY(10px);
    left: 0;
    top: 0;
    z-index: -2;
    filter: blur(calc(var(--cmd-after-blur) * 1px));
    opacity: 1;
    border-radius: 8px;
}

#cmd-fab:hover {
    --cmd-scale: 1.05;
    --cmd-bg-position: 0;
    --cmd-after-blur: 30;
    --cmd-before-opacity: 1;
}

#cmd-fab:hover .cmd-fab-inner::after {
    background: var(--cmd-gradient);
    opacity: 0.3;
}

#cmd-fab:active {
    --cmd-scale: 0.98;
    --cmd-after-blur: 15;
}
